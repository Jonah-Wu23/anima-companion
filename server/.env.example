LLM_API_BASE_URL=https://api.gptsapi.net
LLM_API_KEY=your_api_key_here
LLM_MODEL=claude-sonnet-4-5-20250929
LLM_TIMEOUT_SECONDS=45
LLM_MAX_TOKENS=512

# Provider 通用策略
ASR_PROVIDER_PRIORITY=sensevoice_http,fun_asr_realtime
TTS_PROVIDER_PRIORITY=qwen_clone_tts,gpt_sovits
PROVIDER_FAILURE_COOLDOWN_SECONDS=30
PROVIDER_PROBE_INTERVAL_SECONDS=10
PROVIDER_PROBE_TIMEOUT_SECONDS=2

# DashScope（Fun-ASR / 千问语音 共用）
DASHSCOPE_API_KEY=
# 北京地域；国际地域可替换为 wss://dashscope-intl.aliyuncs.com/api-ws/v1/inference
DASHSCOPE_BASE_WEBSOCKET_API_URL=wss://dashscope.aliyuncs.com/api-ws/v1/inference
# 千问声音复刻接口（中国内地）
QWEN_VOICE_CUSTOMIZATION_URL=https://dashscope.aliyuncs.com/api/v1/services/audio/tts/customization
# 千问实时语音合成 ws（中国内地）
QWEN_TTS_REALTIME_WS_URL=wss://dashscope.aliyuncs.com/api-ws/v1/realtime

# SenseVoice（主 ASR）
SENSEVOICE_BASE_URL=http://127.0.0.1:50000
SENSEVOICE_TIMEOUT_SECONDS=30
SENSEVOICE_DEFAULT_LANG=zh

# Fun-ASR 实时识别（ASR fallback）
FUN_ASR_MODEL=fun-asr-realtime
FUN_ASR_SAMPLE_RATE=16000
FUN_ASR_FORMAT=pcm
FUN_ASR_SEMANTIC_PUNCTUATION_ENABLED=false
FUN_ASR_MAX_SENTENCE_SILENCE=1300
FUN_ASR_MULTI_THRESHOLD_MODE_ENABLED=false
FUN_ASR_HEARTBEAT=false
FUN_ASR_LANGUAGE_HINTS=zh,en
FUN_ASR_VOCABULARY_ID=
# 可留空；范围[-1.0,1.0]
FUN_ASR_SPEECH_NOISE_THRESHOLD=

# GPT-SoVITS（主 TTS）
GPT_SOVITS_BASE_URL=http://127.0.0.1:9880
GPT_SOVITS_TIMEOUT_SECONDS=60
GPT_SOVITS_DEFAULT_REF_AUDIO_PATH=
GPT_SOVITS_AUX_REF_AUDIO_PATHS=
GPT_SOVITS_DEFAULT_PROMPT_TEXT=
GPT_SOVITS_DEFAULT_TEXT_LANG=zh
GPT_SOVITS_DEFAULT_PROMPT_LANG=zh
GPT_SOVITS_TEXT_SPLIT_METHOD=cut1
GPT_SOVITS_BATCH_SIZE=20
GPT_SOVITS_FRAGMENT_INTERVAL=0.3
GPT_SOVITS_SPEED_FACTOR=0.85
GPT_SOVITS_TOP_K=5
GPT_SOVITS_TOP_P=1
GPT_SOVITS_TEMPERATURE=1
GPT_SOVITS_REPETITION_PENALTY=1.35
GPT_SOVITS_PARALLEL_INFER=true
GPT_SOVITS_SPLIT_BUCKET=true
GPT_SOVITS_SEED=-1

# 千问声音复刻（TTS fallback + Voice Enrollment）
QWEN_TTS_TARGET_MODEL=qwen3-tts-vc-realtime-2026-01-15
# 如已创建 voice_id，直接填入可跳过 enrollment
QWEN_VOICE_ID=
# 创建音色 preferred_name（字母/数字/下划线，<=16）
QWEN_VOICE_PREFIX=phainon
# 本地 voice_id 缓存别名
QWEN_VOICE_ALIAS=default
# 自动创建音色（无可用 voice_id 时）
QWEN_AUTO_ENROLL=false
# 声音复刻需要公网可访问 URL（可用 assets/audio/references 中音频先上传到 OSS）
QWEN_ENROLL_AUDIO_URL=
QWEN_LANGUAGE_HINTS=zh
QWEN_POLL_INTERVAL_SECONDS=5
QWEN_POLL_MAX_ATTEMPTS=24
QWEN_REGISTRY_PATH=.data/qwen_voice_registry.json

# 兼容旧变量名（如已在用可暂不改，服务会自动回退读取）
COSYVOICE_TARGET_MODEL=
COSYVOICE_VOICE_ID=
COSYVOICE_VOICE_PREFIX=
COSYVOICE_VOICE_ALIAS=
COSYVOICE_AUTO_ENROLL=
COSYVOICE_ENROLL_AUDIO_URL=
COSYVOICE_LANGUAGE_HINTS=
COSYVOICE_POLL_INTERVAL_SECONDS=
COSYVOICE_POLL_MAX_ATTEMPTS=
COSYVOICE_REGISTRY_PATH=

# 逗号分隔，前端开发源白名单
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001
