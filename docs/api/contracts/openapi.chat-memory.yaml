openapi: 3.0.3
info:
  title: Anima Companion API
  version: 0.1.0
paths:
  /v1/chat/text:
    post:
      summary: 文本对话
      responses:
        "200":
          description: ok
  /v1/chat/voice:
    post:
      summary: 语音对话
      responses:
        "200":
          description: ok
  /v1/memory/upsert:
    post:
      summary: 写入记忆
      responses:
        "200":
          description: ok
  /v1/tts/synthesize:
    post:
      summary: 语音合成代理（GPT-SoVITS）
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [text, text_lang, ref_audio_path, prompt_lang]
              properties:
                text:
                  type: string
                text_lang:
                  type: string
                  enum: [zh, en, ja]
                ref_audio_path:
                  type: string
                prompt_lang:
                  type: string
                  enum: [zh, en, ja]
                prompt_text:
                  type: string
      responses:
        "200":
          description: wav audio stream
